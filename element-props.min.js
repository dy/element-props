export const parse=(e,t)=>(t=t===Object?JSON.parse:t===Array?e=>JSON.parse("["===e[0]?e:`[${e}]`):t,""===e&&t!==String||(t?t(e):!e||isNaN(+e)?e:+e)),prop=(t,r,a)=>{r.startsWith("on")&&(r=r.toLowerCase()),t[r]!==a&&(t[r]=a),null==a?t.removeAttribute(r):"function"!=typeof a&&t.setAttribute(e(r),!0===a?"":!1===a?"false":"number"==typeof a||"string"==typeof a?a:"class"===r?(Array.isArray(a)?a:Object.entries(a).map((([e,t])=>t?e:""))).filter(Boolean).join(" "):"style"===r?Object.entries(a).map((([e,t])=>`${e}: ${t}`)).join(";"):"")},input=e=>["checkbox"===e.type?()=>e.checked:()=>e.value,"text"===e.type||""===e.type?t=>e.value=null==t?"":t:"checkbox"===e.type?t=>(e.value=t?"on":"",prop(e,"checked",0==t?null:t)):"select-one"===e.type?t=>([...e.options].map((e=>e.removeAttribute("selected"))),e.value=t,e.selectedOptions[0]?.setAttribute("selected","")):t=>e.value=t];export default(t,r,a)=>{const o="INPUT"===t.tagName||"SELECT"===t.tagName,[n,s]=input(t),l=new Proxy(t.attributes,{get:(a,s,l)=>o&&"value"===s?n():s in t?t[s]:(l=a[e(s)])&&(l.call?l:parse(l.value,r?.[s])),set:(e,n,l)=>(o&&"value"===n?s(l):prop(t,n,parse(l,r?.[n])),a?.(n,l,e),1),deleteProperty:(e,r,a)=>(t.removeAttribute(r),t[r]=a,delete t[r]),getOwnPropertyDescriptor:e=>({enumerable:!0,configurable:!0}),ownKeys:e=>Array.from(new Set([...Object.keys(t),...Object.getOwnPropertyNames(e)].filter((e=>t[e]!==l&&isNaN(+e)))))});return o&&s(n()),l};function e(e){return e.replace(/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,(e=>"-"+e.toLowerCase()))}document.createElement("div");