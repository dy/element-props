export const parse=(e,t)=>(t=t===Object?JSON.parse:t===Array?e=>JSON.parse("["===e[0]?e:`[${e}]`):t,""===e&&t!==String||(t?t(e):!e||isNaN(+e)?e:+e)),prop=(t,r,o)=>{r.startsWith("on")&&(r=r.toLowerCase()),t[r]!==o&&(t[r]=o),null==o||!1===o?t.removeAttribute(r):"function"!=typeof o&&t.setAttribute(e(r),!0===o?"":"number"==typeof o||"string"==typeof o?o:"class"===r?(Array.isArray(o)?o:Object.entries(o).map((([e,t])=>t?e:""))).filter(Boolean).join(" "):"style"===r?Object.entries(o).map((([e,t])=>`${e}: ${t}`)).join(";"):"")},input=e=>["checkbox"===e.type?()=>e.checked:()=>e.value,"text"===e.type||""===e.type?t=>e.value=null==t?"":t:"checkbox"===e.type?t=>(e.value=t?"on":"",prop(e,"checked",t)):"select-one"===e.type?t=>([...e.options].map((e=>e.removeAttribute("selected"))),e.value=t,e.selectedOptions[0]?.setAttribute("selected","")):t=>e.value=t];export default(t,r,o)=>{const a="INPUT"===t.tagName||"SELECT"===t.tagName,[n,s]=input(t),p=new Proxy(t.attributes,{get:(o,s,p)=>a&&"value"===s?n():s in t?t[s]:(p=o[e(s)])&&(p.call?p:parse(p.value,r?.[s])),set:(e,n,p)=>(a&&"value"===n?s(p):prop(t,n,parse(p,r?.[n])),o?.(n,p,e),1),deleteProperty:(e,r,o)=>(t.removeAttribute(r),t[r]=o,delete t[r]),getOwnPropertyDescriptor:e=>({enumerable:!0,configurable:!0}),ownKeys:e=>Array.from(new Set([...Object.keys(t),...Object.getOwnPropertyNames(e)].filter((e=>t[e]!==p&&isNaN(+e)))))});return a&&s(n()),p};function e(e){return e.replace(/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,(e=>"-"+e.toLowerCase()))}document.createElement("div");