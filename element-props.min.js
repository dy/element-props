export const parse=(e,t)=>(t=t===Object?JSON.parse:t===Array?e=>JSON.parse("["===e[0]?e:`[${e}]`):t,""===e&&t!==String||(t?t(e):!e||isNaN(+e)?e:+e)),prop=(t,r,o)=>{r.startsWith("on")&&(r=r.toLowerCase()),t[r]!==o&&(t[r]=o),null==o||!1===o?t.removeAttribute(r):"function"!=typeof o&&t.setAttribute(e(r),!0===o?"":"number"==typeof o||"string"==typeof o?o:"class"===r?(Array.isArray(o)?o.map((e=>e?.trim())):Object.entries(o).map((([e,t])=>t?e:""))).filter(Boolean).join(" "):"style"===r?Object.entries(o).map((([e,t])=>`${e}: ${t}`)).join(";"):o.toString?.()||"")},input=e=>["checkbox"===e.type?()=>e.checked:()=>e.value,"text"===e.type||""===e.type?t=>e.value=null==t?"":t:"checkbox"===e.type?t=>(e.value=t?"on":"",prop(e,"checked",t)):"select-one"===e.type?t=>([...e.options].map((e=>e.removeAttribute("selected"))),e.value=t,e.selectedOptions[0]?.setAttribute("selected","")):t=>e.value=t];export default(t,r,o)=>{const a="INPUT"===t.tagName||"SELECT"===t.tagName,[n,p]=input(t),s=new Proxy(t.attributes,{get:(o,p,s)=>a&&"value"===p?n():p in t?t[p]:(s=o[e(p)])&&(s.call?s:parse(s.value,r?.[p])),set:(e,n,s)=>(a&&"value"===n?p(s):prop(t,n,parse(s,r?.[n])),o?.(n,s,e),1),deleteProperty:(e,r,o)=>(t.removeAttribute(r),t[r]=o,delete t[r]),getOwnPropertyDescriptor:e=>({enumerable:!0,configurable:!0}),ownKeys:e=>Array.from(new Set([...Object.keys(t),...Object.getOwnPropertyNames(e)].filter((e=>t[e]!==s&&isNaN(+e)))))});return a&&p(n()),s};function e(e){return e.replace(/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,(e=>"-"+e.toLowerCase()))}document.createElement("div");